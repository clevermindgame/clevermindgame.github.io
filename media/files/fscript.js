const e=document.getElementById("impostazioni"),t=document.getElementById("myDialog"),o=document.getElementById("cancelButton"),i=document.getElementById("okButton");var a,l,r,c,d,g,b,f,u,p,h,S,y,I,M,v,E,w,L,B=document.getElementsByName("modalita"),H=document.getElementsByName("dimensioni"),O=document.getElementsByName("esperto"),x=document.getElementsByName("livello"),z=document.getElementsByName("tema"),T=[["#1977a7","#3fb5cc","#ffffff","#fcf9ed"],["#d62628","#ef7f13","#ffffff","#fcf9ed"],["#3daf1e","#9dc31a","#ffffff","#fcf9ed"]],C=[["cb0","cn0","tb0","tn0","rb0","rn0","qb0","qn0"],["cb1","cn1","tb1","tn1","rb1","rn1","qb1","qn1"],["cb2","cn2","tb2","tn2","rb2","rn2","qb2","qn2"]],V=new Array(8),N=new Array(8),P=new Array(64),q=new Array(8),A=new Array(64),R=new Array(64),W=new Array(64),D=new Array(64),_=new Array(64),G=[6,8,10],Q=" âžœ ",U=" ðŸš¶ ",F=" â†º ",Y=16807,$=Math.pow(2,31)-1;function Z(e){for(localStorage.setItem("selectedOption1","gioco"),S=n-2,h=S*S*8,f=G[n-6]+Number(y),u=8*n,be=0;be<8;be++)V[be]=2;for(be=0;be<8;be++)N[be]=2;for(be=0;be<64;be++)P[be]=!1;for(be=0;be<8;be++)q[be]=2;for(f-=(e=(Y*e+0)%$)%3,b=0,g=0;b<f&&g<u;)if(g+=1,e=(Y*e+0)%$,a=Math.floor(e/128)%h,c=((l=(a-(r=a%8))/8)-(d=l%S))/S+1,0!=V[d+=1]&&0!=N[c]&&0!=q[r]&&!P[l]){switch((e=(Y*e+0)%$)%3>0&&1==y&&(1==c&&r<6&&(r|=1),c==S&&r<6&&(r&=6),1==d&&r>1&&(4==r||5==r?r&=6:r|=1),d==S&&r>1&&(4==r||5==r?r|=1:r&=6)),v=c*n+d,b+=1,q[r]-=1,P[l]=!0,V[d]-=1,N[c]-=1,p='<img src="media/files/'+C[I][r]+'.png" style="width="100%" height="100%">',r){case 0:W[v]=[-1,0,-1,0,1];break;case 1:W[v]=[1,0,-1,0,1];break;case 2:W[v]=[-1,-1,1,0,2];break;case 3:W[v]=[1,1,1,0,-2];break;case 4:W[v]=[-1,1,1,0,3];break;case 5:W[v]=[1,-1,1,0,-3];break;case 6:W[v]=[0,-1,1,1,1];break;case 7:W[v]=[0,1,1,-1,1]}_[v]=r,A[v]=p,document.getElementById(v).innerHTML=p}for(celle=document.getElementsByClassName("cinterno"),be=0;be<celle.length;be++)R[celle[be].id]||(celle[be].innerHTML="");E=b,document.getElementById("mostra").textContent="Modifica",w=!1}function J(e){w=!0,document.getElementById("mostra").textContent="Nascondi",scacchiera=document.getElementById("scacchiera");scacchiera.rows[0];for(be=scacchiera.rows.length-1;be>=0;be--)scacchiera.deleteRow(be);for(L=Math.trunc((wWindow*scacchieraW/100-e-1)/e),charSize=Math.trunc(L/3),be=0;be<e;be++){var t=scacchiera.insertRow(be);for(j=0;j<e;j++){var o=t.insertCell(j);o.id=e*be+j,o.classList.add("cinterno"),o.style.fontSize=charSize+"px",A[e*be+j]="",R[e*be+j]=!1,W[e*be+j]=["","",1,0,1],_[e*be+j]=8,0!=j&&j!=e-1||(o.classList.replace("cinterno","cbordoV"),A[e*be+j]=String.fromCharCode(j+65,be+49),o.innerHTML=A[e*be+j],R[e*be+j]=!0),0!=be&&be!=e-1||(o.classList.replace("cinterno","cbordoH"),A[e*be+j]=String.fromCharCode(j+65,be+49),o.innerHTML=A[e*be+j],R[e*be+j]=!0),0!=be&&be!=e-1||0!=j&&j!=e-1||(o.classList.replace("cbordoV","cangolo"),o.classList.replace("cbordoH","cangolo"),A[e*be+j]=String.fromCharCode(j+65,be+49),o.innerHTML=A[e*be+j],R[e*be+j]=!0)}}for(celle=document.getElementsByTagName("td"),be=0;be<celle.length;be++)celle[be].style.height=L+"px",celle[be].style.width=L+"px";idStart=0,idEnd=0,nmosse=0,E=0,K()}function K(){celle_b=document.querySelectorAll(".cbordoV, .cbordoH"),dialogB=document.getElementById("bordoDialog"),celle_b.forEach((e=>{e.addEventListener("click",(()=>{l=e,v=e.id,"studio"==M||0==w?dialogB.showModal():"gioco"==M&&0==E&&X()}))})),celle_s=document.querySelectorAll(".cinterno"),dialogS=document.getElementById("imageDialog"),celle_s.forEach((e=>{e.addEventListener("click",(()=>{l=e,v=e.id,"studio"==M&&(1==w||""==l.innerHTML)||0==w&&E>0&&""==l.innerHTML?dialogS.showModal():"gioco"==M&&0==E&&X()}))}))}function X(){infoM="Tocca <b>Nuovo</b> per accettare una nuova sfida, o l'<b>icona del calendario</b> per la sfida del giorno.<br>",infoM+="Per creare una tua sfida, entra nelle <b>Impostazioni</b> e passa in modalitÃ  <b>Studio</b>.",Oe.innerHTML=infoM,je.showModal()}function ee(e){if(M=e,localStorage.setItem("selectedOption1",e),document.getElementById("modo").innerHTML="modalitÃ : <b>"+M+'</b> â€” <a href="https://clevermindgame.github.io/help.html#'+M+'" target="_blank">Help</a>',"studio"==M){for(document.getElementById("image0").style.visibility="visible",document.getElementById("mostra").disabled=!1,celle=document.getElementsByClassName("cinterno"),be=0;be<celle.length;be++)R[celle[be].id]=!1;oe()}"gioco"==M&&(J(n),document.getElementById("image0").style.visibility="hidden",document.getElementById("mostra").disabled=!0,document.getElementById("imageTxt").textContent="Quale pezzo ritieni sia in questa cella?")}function te(){for(v=65,re(),celle=document.querySelectorAll(".cbordoV, .cbordoH, .cangolo"),k=0;k<celle.length;k++)j=celle[k].id%n,be=(celle[k].id-j)/n,A[celle[k].id]=String.fromCharCode(j+65,be+49),celle[k].innerHTML=A[celle[k].id],celle[k].style.fontSize=charSize+"px"}function oe(){if(w){for(celle=document.getElementsByClassName("cinterno"),be=0;be<celle.length;be++)R[celle[be].id]||(celle[be].innerHTML="");document.getElementById("mostra").textContent="Modifica",document.getElementById("image0").style.visibility="hidden",document.getElementById("imageTxt").textContent="Quale pezzo ritieni sia in questa cella?"}if(!w){for(celle=document.getElementsByClassName("cinterno"),be=0;be<celle.length;be++)celle[be].innerHTML=A[celle[be].id];document.getElementById("mostra").textContent="Nascondi",document.getElementById("image0").style.visibility="visible",document.getElementById("imageTxt").textContent="Modifica il codice inserendo o rimuovendo pezzi:"}w=!w}function ie(){xe.innerHTML=""}function ne(e,t){if(w){switch(A[v]=e,l.innerHTML=A[v],re(),t){case 0:W[v]=[-1,0,-1,0,1];break;case 1:W[v]=[1,0,-1,0,1];break;case 2:W[v]=[-1,-1,1,0,2];break;case 3:W[v]=[1,1,1,0,-2];break;case 4:W[v]=[-1,1,1,0,3];break;case 5:W[v]=[1,-1,1,0,-3];break;case 6:W[v]=[0,-1,1,1,1];break;case 7:W[v]=[0,1,1,-1,1];break;case 8:W[v]=["","",1,0,1]}_[v]=t}if(!w)if(e==A[v])if(R[v]=!0,l.innerHTML=A[v],"studio"==M)xe.insertAdjacentHTML("afterbegin","&nbsp;&nbsp; |  Bravo! Il pezzo Ã¨ corretto.<br />");else if(0===(E-=1)){switch(ue+=1,localStorage.setItem("sfideVinte",ue),nmosse<Ee&&(ve+=1,localStorage.setItem("sfideVeloci",ve)),(nmosse<ye||-1==ye)&&(ye=nmosse,localStorage.setItem("minMosseSfide",ye)),nmosse>Ie&&(Ie=nmosse,localStorage.setItem("maxMosseSfide",Ie)),n){case 6:pe+=1,localStorage.setItem("sfideVinte4",pe);break;case 7:he+=1,localStorage.setItem("sfideVinte5",he);break;case 8:Se+=1,localStorage.setItem("sfideVinte6",Se)}Me+=nmosse,localStorage.setItem("totMosse",Me),Oe.innerHTML="Bravo! Hai risolto la sfida in "+nmosse+" mosse<br>",je.showModal(),xe.insertAdjacentHTML("afterbegin","&nbsp;&nbsp;&nbsp; Bravo! Hai trovato tutti i pezzi. <br />")}else 1===E?(quantiR="Indovinato! rimane ",quantiP=" pezzo"):(quantiR="Indovinato! rimangono ",quantiP=" pezzi"),xe.insertAdjacentHTML("afterbegin","&nbsp;&nbsp; | "+quantiR+E+quantiP+"<br />");else nmosse+=1,xe.insertAdjacentHTML("afterbegin",nmosse+" | Sbagliato! Riprova.<br />")}function ae(e){const t=[];for(var o=0;o<e.length;o++){const i=e[o];Array.isArray(i)?t[o]=ae(i):t[o]="object"==typeof i&&null!==i?deepCopyObject(i):i}return t}function le(e,t,o){re(),idStart=e,A[e]="<em>"+A[e]+"</em>",document.getElementById(e).style.fontSize=Math.trunc(8*charSize/9)+"px",npassi=0,nrimbalzi=0,D=ae(W),j=e%n,be=Math.round((e-j)/n),segno="",t>0?segno="+":t<0&&(segno="â€’"),valstring='<span class="intero bianco">&nbsp;'+segno+Math.abs(t)+"&nbsp;</span>&nbsp;in ",nmosse+=1,cin='<span style="line-height: 160%; margin: 0;">'+nmosse+" | "+valstring+"<b>"+String.fromCharCode(j+65,be+49)+"</b>"+Q,0==be&&(stato=[1,0,t,o]),be==n-1&&(stato=[-1,0,t,o]),0==j&&(stato=[0,1,t,o]),j==n-1&&(stato=[0,-1,t,o]),regola=D[e];do{rimb=!1,""===regola[0]?ii=stato[0]:(rimb=!0,ii=regola[0]),""===regola[1]?jj=stato[1]:(rimb=!0,jj=regola[1]),rimb&&(nrimbalzi+=1),D[n*be+j]=["","",1,0,1],be+=ii,j+=jj,o*=regola[2],t=(t+regola[3])*regola[4],stato=[ii,jj,t,o],regola=D[n*be+j],npassi+=1}while(0!=be&be!=n-1&0!=j&j!=n-1);switch(idEnd=n*be+j,uscita=1===o?'<img src="media/files/uscita_bianca.png" style="width="100%" height="100%">':'<img src="media/files/uscita_nera.png" style="width="100%" height="100%">',document.getElementById(idEnd).innerHTML=uscita,t>0?t="+"+t:t<0&&(t="â€’"+-t),valstring=1===o?'<span class="intero bianco">&nbsp;'+t+"&nbsp;</span>&nbsp;in ":'<span class="intero nero">&nbsp;'+t+"&nbsp;</span>&nbsp;in ",cout=valstring+"<b>"+String.fromCharCode(j+65,be+49)+"</b>",livelloV){case"passirimb":cout+=" | "+npassi+U+"e "+nrimbalzi+F+"<br />";break;case"passi":cout+=" | "+npassi+U+"<br />";break;case"rimb":cout+=" | "+nrimbalzi+F+"<br />";break;case"nulla":cout+="<br />"}xe.insertAdjacentHTML("afterbegin",cin+cout+"</span>")}function re(){"undefined"!=typeof idStart&&v!=idStart&&(document.getElementById(idStart).innerHTML=A[idStart]),"undefined"!=typeof idEnd&&v!=idEnd&&(document.getElementById(idEnd).innerHTML=A[idEnd])}function se(){for(I=localStorage.getItem("selectedOption4"),document.getElementsByClassName("logo-container")[0].style.backgroundColor=T[I][0],document.getElementById("titolo").style.color=T[I][2],document.getElementById("storico").style.backgroundColor=T[I][3],document.querySelectorAll(".cbordoV, .cbordoH").forEach((e=>{e.style.backgroundColor=T[I][1],e.style.color=T[I][2]})),document.querySelectorAll(".cangolo").forEach((e=>{e.style.backgroundColor=T[localStorage.getItem("selectedOption4")][0],e.style.color=T[localStorage.getItem("selectedOption4")][2]})),elements=document.querySelectorAll(".pezzi"),elements.forEach((e=>{src=e.getAttribute("src"),null!==src&&src.includes(".png")&&(newSrc=src.replace(/\d\.png/g,I+".png"),e.setAttribute("src",newSrc))})),celle=document.getElementsByClassName("cinterno"),be=0;be<celle.length;be++)src=A[celle[be].id],src.includes(".png")&&(newSrc=src.replace(/\d\.png/g,I+".png"),A[celle[be].id]=newSrc,""!=celle[be].innerHTML&&(celle[be].innerHTML=celle[be].innerHTML.replace(/\d\.png/g,I+".png")))}function ce(){return totPassi=0,totRimb=0,maxPassi=0,maxRimb=0,pochiPassi=0,pochiRimb=0,listaCelle=document.querySelectorAll(".cbordoV, .cbordoH"),listaCelle.forEach((e=>{v=e.id,valPercorso=function(e){idStart=e,idxPassi=0,idxRimbalzi=0,D=ae(W),j=e%n,0==(be=Math.round((e-j)/n))&&(stato=[1,0,1,1]),be==n-1&&(stato=[-1,0,1,1]),0==j&&(stato=[0,1,1,1]),j==n-1&&(stato=[0,-1,0,1]),regola=D[e];do{rimb=!1,""===regola[0]?ii=stato[0]:(rimb=!0,ii=regola[0]),""===regola[1]?jj=stato[1]:(rimb=!0,jj=regola[1]),rimb&&(idxRimbalzi+=1),D[n*be+j]=["","",1,0,1],be+=ii,j+=jj,stato=[ii,jj,1,1],regola=D[n*be+j],idxPassi+=1}while(0!=be&be!=n-1&0!=j&j!=n-1);return[idxPassi,idxRimbalzi]}(v),totPassi+=valPercorso[0],totRimb+=valPercorso[1],valPercorso[0]>maxPassi&&(maxPassi=valPercorso[0]),valPercorso[1]>maxRimb&&(maxRimb=valPercorso[1]),valPercorso[0]<5&&(pochiPassi+=1),valPercorso[1]<2&&(pochiRimb+=1)})),idxVal=2*(totPassi+5*maxPassi)+10*(totRimb+5*maxRimb)-10*(pochiPassi+2*pochiRimb)+5*E,idxVal<350?"facile":idxVal>350&&idxVal<=600?"media":idxVal>600?"difficile":void 0}document.getElementById("run").addEventListener("click",(function(){n=Number(localStorage.getItem("selectedOption2")),J(n),se(),ie(),"gioco"==M&&(seme=Math.floor(Math.random()*$),Z(seme),infoM="Ãˆ pronta una nuova sfida!<br><br>Pezzi da indovinare "+E+"<br>",infoM+="DifficoltÃ : "+ce()+espertoMsg+"<br><br>",infoM+="<em>(passi:"+U+"- rimbalzi:"+F+")</em><br>",Oe.innerHTML=infoM,je.showModal())})),document.getElementById("god").addEventListener("click",(function(){n=Number(localStorage.getItem("selectedOption2")),ee("gioco"),se(),today=new Date,seme=y+today.getDate()+today.getDay()+today.getMonth()+today.getFullYear()%100,Z(seme),ie(),infoM="Gioco di oggi!<br><br>Pezzi da indovinare: "+E+"<br>",infoM+="DifficoltÃ : "+ce()+espertoMsg+"<br><br>",infoM+="<em>(passi:"+U+"- rimbalzi:"+F+")</em><br>",Oe.innerHTML=infoM,je.showModal()})),document.getElementById("copia").addEventListener("click",(function(){for(dumpCelle="",be=0;be<n*n;be++)dumpCelle+=_[be];dumpStr=dumpCelle.replace(/(\d)\1{0,8}/g,(function(e){return e.length+String.fromCharCode(Number(e.charAt(0))+108)})),testoCopiato=pageUrl+"?s="+dumpStr+"&m="+w,navigator.clipboard.writeText(testoCopiato).then((()=>{}),(()=>{})),Oe.innerHTML="<b>Hai copiato il gioco da condividere!</b>",je.showModal()})),document.getElementById("mostra").addEventListener("click",(function(){oe()}));const de=window.location.search,me=new URLSearchParams(de);pageUrl=window.location.href.split("?")[0],s=me.get("s"),m=me.get("m");const ge=new RegExp("^([0-9][l-t])+$","g");if(sErr=!1,null!=s)if(!ge.test(s)||s.length>86)s=null,sErr=!0;else{const e=s.match(/\d/g),t=s.match(/[A-Za-z]/g);dumpRicostr="";for(var be=0;be<e.length;be++)dumpRicostr+=String.fromCharCode(t[be].charCodeAt(0)-60).repeat(parseInt(e[be]));s=dumpRicostr}if(hWindow=window.innerHeight,wWindow=window.innerWidth,wWindow>hWindow){var fe=document.querySelector(".gioco-container");wWindow=Math.round(3.8*hWindow/7),fe.style.width=wWindow+"px"}rWindow=hWindow/wWindow,scacchieraW=Math.round(75+22*(rWindow-1.4)/.4),logoH=Math.round(40+22*(rWindow-1.4)/.4),rWindow<1.4&&(scacchieraW=75,logoH=40),rWindow>1.8&&(scacchieraW=97,logoH=60),scacchiera.style.width=scacchieraW+"%",hWindow<700&&(document.getElementsByClassName("logo-container")[0].style.height=logoH+"px",document.getElementsByClassName("logo-image")[0].style.width=logoH+"px",document.getElementsByClassName("logo-image")[0].style.height=logoH+"px",logoI.style.width=logoH+"px",logoI.style.height=logoH+"px"),localStorage.getItem("selectedOption1")||localStorage.setItem("selectedOption1","gioco"),localStorage.getItem("selectedOption2")||localStorage.setItem("selectedOption2",7),localStorage.getItem("selectedOption3")||localStorage.setItem("selectedOption3","passirimb"),localStorage.getItem("selectedOption4")||localStorage.setItem("selectedOption4",0),localStorage.getItem("selectedOption5")||localStorage.setItem("selectedOption5",0),localStorage.getItem("sfideVinte")||localStorage.setItem("sfideVinte",0),localStorage.getItem("sfideVinte4")||localStorage.setItem("sfideVinte4",0),localStorage.getItem("sfideVinte5")||localStorage.setItem("sfideVinte5",0),localStorage.getItem("sfideVinte6")||localStorage.setItem("sfideVinte6",0),localStorage.getItem("minMosseSfide")||localStorage.setItem("minMosseSfide",-1),localStorage.getItem("maxMosseSfide")||localStorage.setItem("maxMosseSfide",-1),localStorage.getItem("totMosse")||localStorage.setItem("totMosse",0),localStorage.getItem("sfideVeloci")||localStorage.setItem("sfideVeloci",0),localStorage.getItem("benv")||localStorage.setItem("benv",1);var ue=Number(localStorage.getItem("sfideVinte")),pe=Number(localStorage.getItem("sfideVinte4")),he=Number(localStorage.getItem("sfideVinte5")),Se=Number(localStorage.getItem("sfideVinte6")),ye=Number(localStorage.getItem("minMosseSfide")),Ie=Number(localStorage.getItem("maxMosseSfide")),Me=Number(localStorage.getItem("totMosse")),ve=Number(localStorage.getItem("sfideVeloci")),Ee=15;M=localStorage.getItem("selectedOption1"),n=localStorage.getItem("selectedOption2"),livelloV=localStorage.getItem("selectedOption3"),I=localStorage.getItem("selectedOption4"),ee(M),y=localStorage.getItem("selectedOption5"),espertoMsg="",1==y&&(espertoMsg=" (livello esperto)");const we=document.querySelector("#infoStats"),ke=document.querySelector("#okInfoStats"),Le=document.querySelector("#infoStatsText");ke.addEventListener("click",(()=>{we.close()}));const je=document.querySelector("#infoGioco"),Be=document.querySelector("#okB"),He=document.querySelector("#vaiStats"),Oe=document.querySelector("#infoTesto");He.addEventListener("click",(()=>{minMosseSfideVx=-1==ye?"--":ye,maxMosseSfideVx=-1==Ie?"--":Ie,mediaMosseV=0==ue?"--":(Me/ue).toFixed(1),Le.innerHTML="Sfide vinte: "+ue+"<br>",Le.innerHTML+="con tavola 4x4: "+pe+"<br>",Le.innerHTML+="con tavola 5x5: "+he+"<br>",Le.innerHTML+="con tavola 6x6: "+Se+"<br>",Le.innerHTML+="con meno di "+Ee+" mosse: "+ve+"<br>",Le.innerHTML+="minimo di mosse utilizzate: "+minMosseSfideVx+"<br>",Le.innerHTML+="massimo di mosse utilizzate: "+maxMosseSfideVx+"<br>",Le.innerHTML+="mosse medie per sfida: "+mediaMosseV+"<br>",we.showModal()})),Be.addEventListener("click",(()=>{je.close()})),null!=s&&36!=s.length&&49!=s.length&&64!=s.length&&(sErr=!0),sErr&&(Oe.innerHTML="La disposizione che vuoi caricare contiene degli errori",je.showModal()),null==s||36!=s.length&&49!=s.length&&64!=s.length?(s=0,J(n),"studio"==M&&1==localStorage.getItem("benv")&&(Oe.innerHTML="Benvenuto! Sei in modalitÃ  <b>Studio</b>.<br><br>            Qui puoi creare una tua sfida, scegliendo i pezzi da inserire.<br>            Entra nelle Impostazioni per passare in modalitÃ  <b>Gioco</b>, cambiare la dimensione della scacchiera o il tema grafico.<br>            Buon divertimento!",je.showModal()),"gioco"==M&&1==localStorage.getItem("benv")&&(Oe.innerHTML="Benvenuto! Sei in modalitÃ  <b>Gioco</b>.<br><br>            Tocca <b>Nuovo</b> per accettare una nuova sfida, o l'icona del calendario per la sfida del giorno.<br>            Entra nelle Impostazioni per passare in modalitÃ  <b>Studio</b>, cambiare la dimensione della scacchiera o il tema grafico.<br>            Buon divertimento!",je.showModal()),localStorage.setItem("benv",1)):function(){switch(s.length){case 36:n=6;break;case 49:n=7;break;case 64:n=8}for(ee("gioco"),v=0;v<s.length;v++)if(pBordo=!1,r=1*s.charAt(v),v%n!=0&&v%n!=n-1)if(v<n)8!=r&&(sErr=!0);else if(v>=n*(n-1))8!=r&&(sErr=!0);else{switch(p='<img src="media/files/'+C[I][r]+'.png" style="width="100%" height="100%">',r){case 0:W[v]=[-1,0,-1,0,1];break;case 1:W[v]=[1,0,-1,0,1];break;case 2:W[v]=[-1,-1,1,0,2];break;case 3:W[v]=[1,1,1,0,-2];break;case 4:W[v]=[-1,1,1,0,3];break;case 5:W[v]=[1,-1,1,0,-3];break;case 6:W[v]=[0,-1,1,1,1];break;case 7:W[v]=[0,1,1,-1,1];break;default:p=""}""!=p&&(E+=1,_[v]=r,A[v]=p,document.getElementById(v).innerHTML=p)}else 8!=r&&(sErr=!0);"true"==m?(w=!1,ee("studio")):w=!0,oe(),localStorage.setItem("benv",0),quantiP=1===E?" pezzo":" pezzi",infoM="Hai importato una sfida!<br><br>Pezzi da indovinare: "+E+"<br>",infoM+="DifficoltÃ : "+ce()+"<br><br>",infoM+="<em>(passi:"+U+"- rimbalzi:"+F+")</em><br>",sErr&&(infoM+="<br><br><em>La disposizione conteneva degli errori</em><br>"),Oe.innerHTML=infoM,je.showModal()}();const xe=document.getElementById("storico"),ze=window.pageYOffset||document.documentElement.scrollTop,Te=xe.offsetTop,Ce=hWindow-(Te-ze)-2;xe.style.height=`${Ce}px`,xe.style.fontSize=Math.round(n*L*30/13/50)+"px",se(),ie(),o.addEventListener("click",(()=>{t.close()})),e.addEventListener("click",(()=>{if(t.showModal(),localStorage.getItem("selectedOption1"))for(var e=0;e<B.length;e++)if(B[e].value===localStorage.getItem("selectedOption1")){B[e].checked=!0;break}if(localStorage.getItem("selectedOption2"))for(e=0;e<H.length;e++)if(H[e].value===localStorage.getItem("selectedOption2")){H[e].checked=!0;break}if(localStorage.getItem("selectedOption5"))for(e=0;e<O.length;e++)if(O[e].value===localStorage.getItem("selectedOption5")){O[e].checked=!0;break}if(localStorage.getItem("selectedOption3"))for(e=0;e<x.length;e++)if(x[e].value===localStorage.getItem("selectedOption3")){x[e].checked=!0;break}if(localStorage.getItem("selectedOption4"))for(e=0;e<x.length;e++)if(z[e].value===localStorage.getItem("selectedOption4")){z[e].checked=!0;break}})),i.addEventListener("click",(e=>{varia=!1;for(var o=0;o<B.length;o++)if(B[o].checked){oldopt=localStorage.getItem("selectedOption1"),selectedOption1=B[o].value,M=selectedOption1,localStorage.setItem("selectedOption1",selectedOption1),oldopt!=selectedOption1&&(te(),ee(M));break}for(o=0;o<H.length;o++)if(H[o].checked){oldopt=localStorage.getItem("selectedOption2"),selectedOption2=H[o].value,oldopt!=selectedOption2&&(varia=!0),localStorage.setItem("selectedOption2",selectedOption2),localStorage.setItem("benv",0);break}for(o=0;o<O.length;o++)if(O[o].checked){oldopt=localStorage.getItem("selectedOption5"),selectedOption5=O[o].value,y=selectedOption5,espertoMsg="",1==y&&(espertoMsg=" (livello esperto)"),localStorage.setItem("selectedOption5",selectedOption5);break}for(o=0;o<x.length;o++)if(x[o].checked){oldopt=localStorage.getItem("selectedOption3"),selectedOption3=x[o].value,livelloV=selectedOption3,localStorage.setItem("selectedOption3",selectedOption3);break}for(o=0;o<z.length;o++)if(z[o].checked){oldopt=localStorage.getItem("selectedOption4"),selectedOption4=z[o].value,localStorage.setItem("selectedOption4",selectedOption4),I=selectedOption4,se();break}varia||e.preventDefault(),t.close()})),image0.addEventListener("click",(()=>{"studio"==M&&ne("",8),dialogS.close()})),image1.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][0]+'.png" style="width="100%" height="100%">',0),dialogS.close()})),image2.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][1]+'.png" style="width="100%" height="100%">',1),dialogS.close()})),image3.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][2]+'.png" style="width="100%" height="100%">',2),dialogS.close()})),image4.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][3]+'.png" style="width="100%" height="100%">',3),dialogS.close()})),image5.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][4]+'.png" style="width="100%" height="100%">',4),dialogS.close()})),image6.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][5]+'.png" style="width="100%" height="100%">',5),dialogS.close()})),image7.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][6]+'.png" style="width="100%" height="100%">',6),dialogS.close()})),image8.addEventListener("click",(()=>{ne('<img src="media/files/'+C[I][7]+'.png" style="width="100%" height="100%">',7),dialogS.close()})),image9.addEventListener("click",(()=>{dialogS.close()})),image10.addEventListener("click",(()=>{l.innerHTML='<img src="media/files/p1b.png" style="width="100%" height="100%">',le(v,1,1),dialogB.close()})),image12.addEventListener("click",(()=>{l.innerHTML='<img src="media/files/m1b.png" style="width="100%" height="100%">',le(v,-1,1),dialogB.close()})),image14.addEventListener("click",(()=>{dialogB.close()})),K();